# DO NOT CHANGE THIS FILE BECAUSE IT IS MANAGED BY CHEZMOI READ MORE HERE
# https://github.com/rodolfolabipari/dotfiles

# Altera globalmente o Contrl-b para Control-s
set -g prefix C-s
# Change base index of windows to 1
set -g base-index 1
# renumber windows when any window is closed
set -g renumber-windows on
# configue colors to tmux show p10k theme
set -g default-terminal "screen-256color"

# Foce vi navigation
setw -g mode-keys vi

# Permite recarregar o .tmux.conf usando o comando C-r
unbind r
bind r source-file ~/.tmux.conf               # Recarregar o arquivo de configuração

# Plugins
# Configura uma série de plugins para Tmux
# estou usando via git clone, por isso comentado
#set -g @plugin 'catppuccin/tmux'                 # Recursos adicionais para Tmux
set -g @plugin 'christoomey/vim-tmux-navigator'  # Navegação entre Vim e Tmux
#set -g @plugin 'tmux-plugins/tmux-sensible'      # Configurações sensíveis padrão
set -g @plugin 'tmux-plugins/tmux-yank'          # Melhorias na área de transferência
set -g @plugin 'tmux-plugins/tmux-cpu'           # CPU on tmux
set -g @plugin 'jamesoff/tmux-loadavg'           # CPU on tmux
#set -g @plugin 'jimeh/tmuxifier'                 # manage complex tmux sessions
set -g @plugin 'tmux-plugins/tmp'                # Gerenciamento de Tmux Plugins


# Binds
# Define atalhos para diversas funcionalidades
bind - split-window -v                        # Divide a janela verticalmente
bind | split-window -h                        # Divide a janela horizontalmente
bind h select-pane -L                         # Mover para a esquerda
bind j select-pane -D                         # Mover para baixo
bind k select-pane -U                         # Mover para cima
bind l select-pane -R                         # Mover para a direita

# Resize panes
# Define atalhos para redimensionar os painéis
bind -n M-H resize-pane -L 2                  # Redimensiona para a esquerda
bind -n M-J resize-pane -D 2                  # Redimensiona para baixo
bind -n M-K resize-pane -U 2                  # Redimensiona para cima
bind -n M-L resize-pane -R 2                  # Redimensiona para a direita

# Setting up clipboard
# Configurações para manipulação da área de transferência
bind P paste-buffer                           # Cola o conteúdo do buffer
bind-key -T copy-mode-vi v send-keys -X begin-selection  # Inicia seleção em modo de cópia
bind-key -T copy-mode-vi V send-keys -X rectangle-toggle  # Alternância entre seleção linear e retangular
# A linha abaixo foi comentada pois eu quero que a selecao do mouse continue
#unbind -T copy-mode-vi Enter                 # Desvincula a tecla Enter do modo de cópia
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -selection clipboard'  # Copia texto selecionado para o clipboard
#bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'xclip -selection clipboard'  # Copia texto selecionado para o clipboard
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'xclip -selection clipboard'  # Copia texto selecionado para o clipboard

# Sets
# Configurações gerais
set -g mouse on                                      # Ativa o suporte ao mouse
set -g status-position top                           # Posição da barra de status

set -g pane-active-border-style 'bg=color234 fg=color46'  # Estilo da borda do painel ativo
set -g pane-border-style 'fg=color233 bg=color234'   # Estilo da borda do painel
set -g status-style 'bg=color233 fg=color15 dim'     # Estilo da barra de status


# Fix the slow escape-time for vim
# Ajusta o tempo de escape para interações mais suaves com o Vim
set -sg escape-time 10

# 24-bit collors
# Configura o suporte a cores de 24 bits
set-option -g allow-rename off                      # Impede renomeação automática de janelas
set-option -g history-limit 1000000                   # Define o limite de histórico
set-option -s set-clipboard off                     # Desativa o uso da área de transferência do Tmux
set-option -sa terminal-overrides ",xterm*:Tc"


# Theme
# Catppuccin theme
# Config 1 https://github.com/catppuccin/tmux?tab=readme-ov-file#config-1
# Disable catppuccin styling windows.
set -g @catppuccin_window_status_style "none"
set -g @catppuccin_status_left_separator "█"
set -g @catppuccin_status_right_separator "█"

set -g @catppuccin_date_time_text "%Y-%m-%d %H:%M:%S"

# Run catppuccin plugin manually or through tpm
run ~/.local/share/tmux/plugins/catppuccin/tmux/catppuccin.tmux
# Configurações relacionadas ao tema
set -g @catppuccin_date_time "%d/%m/%Y %H:%M:%S"    # Formato da data e hora
set -g @catppuccin_flavor 'mocha'                  # Tema geral escuro
set -g @catppuccin_host "off"                       # Exibição do nome do host
set -g @catppuccin_user "off"                       # Exibição do nome do usuário
set -g @catppuccin_window_tabs_enabled on           # Habilita guias de janela
set -g @catppuccin_window_status_style "rounded"
# leave this unset to let applications set the window title
set -g @catppuccin_window_default_text " #W"
set -g @catppuccin_window_current_text " #W"
set -g @catppuccin_window_status "icon"
set -g @catppuccin_window_current_background "#{@thm_mauve}"


# Style the windows. See https://man7.org/linux/man-pages/man1/tmux.1.html#STYLES for more details.
set -gF window-status-style "bg=#{@thm_surface_1},fg=#{@thm_fg}"
set -gF window-status-current-style "bg=#{@thm_peach},fg=#{@thm_crust}"

set -g window-status-format " #T | #I "
set -g window-status-current-format " #T | #I "

set -g status-left ""
set -g  status-right "#{E:@catppuccin_status_application}"
set -ag status-right "#{E:@catppuccin_status_directory}"
set -ag status-right "#{E:@catppuccin_status_session}"
#set -ag status-right "#{E:@catppuccin_status_user}"
#set -ag status-right "#{E:@catppuccin_status_host}"
#set -ag status-right "#{E:@catppuccin_status_date_time}"
#set -ag status-right "#{E:@catppuccin_status_uptime}"

# Has to be the last line
run '~/.tmux/plugins/tpm/tpm'

# DO NOT CHANGE THIS FILE BECAUSE IT IS MANAGED BY CHEZMOI READ MORE HERE
# https://github.com/rodolfolabipari/dotfiles
